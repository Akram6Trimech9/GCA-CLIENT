<div role="main" class="container-fluid mt-4">
    <div class="header">
      <form [formGroup]="filters" (ngSubmit)="onFilterChange()" class="text-center">
        <div class="row mb-3">
          <div class="col-md-4">
            <label for="clientLastName" class="form-label">Nom</label>
            <input id="clientLastName" formControlName="lastname" class="form-control" placeholder="Entrez le nom du client" />
          </div>
          <div class="col-md-4">
            <label for="clientFirstName" class="form-label">Prénom</label>
            <input id="clientFirstName" formControlName="username" class="form-control" placeholder="Entrez le prénom du client" />
          </div>
          <div class="col-md-4">
            <label for="folderNumber" class="form-label">Numéro de dossier</label>
            <input id="folderNumber" formControlName="folderNumber" class="form-control" placeholder="Entrez le numéro de dossier" />
          </div>
          <div class="col-md-4">
            <label for="nbreTribunal" class="form-label">Numéro d'enregistrement au tribunal</label>
            <input id="nbreTribunal" formControlName="nbreTribunal" class="form-control" placeholder="Entrez le nombre de tribunaux" />
          </div>
          <div class="col-md-4">
            <label for="processType" class="form-label">Type de procès</label>
            <select id="processType" formControlName="type" class="form-select">
              <option value="" disabled selected>Sélectionner le type de procès</option>
              <option *ngFor="let type of processTypes" [value]="type">{{ type }}</option>
            </select>
          </div>
          
          <div class="col-md-12 mt-3 text-end">
            <button type="submit" class="btn btn-primary">Filtrer</button>
            <button type="button"  (click)="resetFilters()" class="btn btn-secondary   text-danger ms-2">Réinitialiser</button>
          </div>
        </div>
      </form>
    </div>
  
    <div class="container mt-4">
      <div *ngIf="proces.length === 0 && filterApplied" class="mt-3 text-center">
        <p>Aucun procès trouvé.</p>
      </div>
  
      <div class="row" *ngIf="filterApplied">
        <div *ngFor="let proc of proces" class="col-md-12">
          <div class="card mb-4">
            <div class="card-body">
               <p><strong>Dossier:</strong> {{ proc.folder?.titleFolder }}</p>
              <p *ngIf="proc.client"><strong>Client:</strong> {{ proc.client.username }}</p>
              <p><strong>Numéro de dossier:</strong> {{ proc.folder?.numberFolder }}</p>
              <p><strong>Type de procès:</strong> {{ proc.type }}</p>
              <p><strong>Année:</strong> {{ proc.year }}</p>
              <p><strong>Numéro d'enregistrement au tribunal:</strong> {{ proc.nbreTribunal }}</p>

           
            </div>
          </div>
        </div>
      </div>
  
      <nav aria-label="Navigation des pages" class="mt-4" *ngIf="filterApplied">
        <ul class="pagination justify-content-center">
          <li class="page-item" [ngClass]="{ disabled: page <= 1 }">
            <a class="page-link" (click)="onPageChange(page - 1)" aria-label="Précédent">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item" *ngFor="let p of [].constructor(getTotalPages()); let i = index" [ngClass]="{ active: i + 1 === page }">
            <a class="page-link" (click)="onPageChange(i + 1)">{{ i + 1 }}</a>
          </li>
          <li class="page-item" [ngClass]="{ disabled: page >= getTotalPages() }">
            <a class="page-link" (click)="onPageChange(page + 1)" aria-label="Suivant">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  